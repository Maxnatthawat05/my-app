<div class="container">
  <div class="header">
    <h1>‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</h1>
  </div>

  <!-- Layout ‡∏´‡∏•‡∏±‡∏Å‡∏û‡∏£‡πâ‡∏≠‡∏° Sidebar ‡πÅ‡∏•‡∏∞ Main Section -->
  <div class="content">
    
    <!-- Sidebar ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà -->
    <!-- <div class="sidebar">
      <h3>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</h3>
      <ul>
         ‡πÉ‡∏ä‡πâ *ngFor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà -->
        <!-- <li *ngFor="let category of categories">
          <a href="#" (click)="selectCategory(category.name)">{{ category.name }}</a>
        </li>
      </ul>
    </div> --> 

    <!-- Main Section -->
    <div class="main-section">
      <!-- ‡∏õ‡∏∏‡πà‡∏° Category ‡πÅ‡∏•‡∏∞ Profile -->
      <div class="header-buttons">
        <button class="profile-button" (click)="navigateToProfile()">
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏° "Profile" ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô -->
          <ng-container *ngIf="isLoggedIn">
            <img src="assets/profile.jpg" alt="Profile" class="profile-image">
          </ng-container>
          <ng-container *ngIf="!isLoggedIn">
            ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
          </ng-container>
        </button>
      </div>

      <div class="posts">
        <!-- ‡πÉ‡∏ä‡πâ *ngFor ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å API -->
        <div *ngFor="let post of posts; let i = index" class="post">
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å URL ‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å API -->
          <img [src]="'http://192.168.11.221:8080' + post.photoUrl" alt="Post Image" class="post-image" *ngIf="post.photoUrl">
      
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏û‡∏™‡∏ï‡πå -->
          <h2>{{ post.title }}</h2>
          
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏û‡∏™‡∏ï‡πå -->
          <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô: {{ post.author.username }}</p>
          
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏û‡∏™‡∏ï‡πå -->
          <p>‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠: {{ post.createdAt | date: 'dd/MM/yyyy HH:mm' }}</p>
          
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå -->
          <p *ngIf="posts.length  < 100; else moreContent" [class.expanded]="post.isExpanded">
            {{ post.isExpanded ? post.content : post.content?.substring(0, 100)  }}
          </p>
          
          <ng-template #moreContent>
            <p *ngIf="post.isExpanded">
              {{ post.content }}
            </p>
          </ng-template>
          
          <button *ngIf="post.content.length > 20" (click)="toggleContent(i)">
            {{ post.isExpanded ? '‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤' : '‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°' }}
          </button>
        
          <div class="emoji-comments">
            <span (click)="showCommentModal(i)">üí¨</span>
          </div>
      

          <button *ngIf="isAdmin()" (click)="banUser(post.author.id)">‡πÅ‡∏ö‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</button>
        </div>
      </div>
      
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô -->
      <button class="back-to-top" (click)="scrollToTop()">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</button>
    </div>

  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå -->
  <div *ngIf="isCommentModalVisible" class="comment-modal">
    <div class="modal-content">
      <h3>‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå</h3>
      <div *ngFor="let comment of selectedPost.comments" class="comment">
        <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå -->
        <p><strong>{{ comment.author.username }}</strong>: {{ comment.content }}</p>
      </div>
      <input [(ngModel)]="newComment" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà" />
      <button (click)="addComment()">‡∏™‡πà‡∏á</button>
      <button (click)="closeCommentModal()">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>  
</div>
